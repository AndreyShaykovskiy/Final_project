# Final_project
####    Представьте, что вы работаете в компании, которая разрабатывает мобильные игры. К вам пришел менеджер с рядом задач по исследованию нескольких аспектов мобильного приложения:
 1) В первую очередь, его интересует показатель retention. Напишите функцию для его подсчета.
 2) Помимо этого, в компании провели A/B тестирование наборов акционных предложений. На основе имеющихся данных определите, какой набор можно считать лучшим и на основе каких метрик стоит принять правильное решение.
 3) Предложите метрики для оценки результатов последнего прошедшего тематического события в игре.


Написав функцию для расчета retencion получаю данный heatmap:
![2023-02-01_23-52-44](https://user-images.githubusercontent.com/122619433/216161312-311c001a-2310-4e0e-8f10-e2a860f85051.png)

### Задание 2
Имеются результаты A/B теста, в котором двум группам пользователей предлагались различные наборы акционных предложений. Известно, что ARPU в тестовой группе выше на 5%, чем в контрольной. При этом в контрольной группе 1928 игроков из 202103 оказались платящими, а в тестовой – 1805 из 202667.

Какой набор предложений можно считать лучшим? Какие метрики стоит проанализировать для принятия правильного решения и как?

посмотрим на распределение чеков в тестовой группе а и b
![2023-02-01_23-58-41](https://user-images.githubusercontent.com/122619433/216161966-4f7a2540-d5db-4011-9b22-6691c468676d.png)
![2023-02-01_23-59-17](https://user-images.githubusercontent.com/122619433/216162102-91cbf1ad-625a-496a-a43a-4e5f09fdd44c.png)
Распределение в контрольной группе, судя по графику, не является нормальным.   Распределение в тестовой группе похоже на нормальное. Посмотрим на такие метрики, как среднее значение, медиану, конверсию, ARPU и ARPPU
![2023-02-02_00-00-45](https://user-images.githubusercontent.com/122619433/216162393-a31202c1-8b9f-4730-9e41-8f6888667479.png)
Так как в контрольной группе есть заметные выбросы, использую U-критерий Манна-Уитни, который менее чувствителен к выбросам
Вывод по U-критерий Манна-Уитни:p-value < 0.05, следовательно отклоняем нулевую гипотезу о равенстве распределений. Подтверждаем значимость различий тестовой группы и контрольной.

Проверим данные с помощью bootstrap
![2023-02-02_00-02-57](https://user-images.githubusercontent.com/122619433/216162788-d2d6c79d-b7ca-4579-b903-ccf7f6a78ad7.png)
![2023-02-02_00-03-26](https://user-images.githubusercontent.com/122619433/216162858-fec6fa2d-b761-46eb-a722-119710d0bad9.png)

### Общий вывод:
Контрольная выборка имеет большие выбросы, что достаточно сильно искажает среднее значение.
U-тест Манна-Уитни показал статистически значимые различия p-value < 0.05.
Применяя бутстрап с оценкой среднего, можно было бы принять нулевую гипотезу о равенстве средних и сделать вывод, что тестовая и контрольная выборки одинаковы. Однако, после применения того же бутстрап, но уже по медиане дает нам отклонить нулевую гипотезу, так как p-value сильно меньше 0.05.
### Итог:
Считаю, что нет смысла на данный момент выкатывать обновление, необходимо проанализировать контрольную группу, понять почему существует такое различие в оплате клиентов и только после этого можно принимать решение.
